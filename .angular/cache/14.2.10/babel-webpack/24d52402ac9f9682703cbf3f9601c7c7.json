{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { FormBuilder } from \"@angular/forms\";\nimport { Router } from '@angular/router';\nimport { UserIdService } from 'app/userIdService';\nimport { take } from 'rxjs';\nlet UserComponent = class UserComponent {\n  constructor(formBuilder, //new code\n  http, router, userIDService) {\n    this.formBuilder = formBuilder;\n    this.http = http;\n    this.router = router;\n    this.userIDService = userIDService;\n    this.username = 'hgthfdhtd';\n    this.password = '';\n    this.favoriteAnimal = '';\n    this.firstname = '';\n    this.lastname = '';\n    this.email = '';\n  }\n\n  updateUserData() {\n    const body = {\n      username: this.username,\n      password: this.password,\n      firstname: this.firstname,\n      lastname: this.lastname,\n      email: this.email,\n      favoriteAnimal: this.favoriteAnimal\n    };\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    this.http.post('http://127.0.0.1:8080/api/signUp', body, {\n      headers\n    }).subscribe(response => {\n      // If the login is successful, redirect the user to the dashboard page\n      this.router.navigate(['/main']); //document.write(\"Welcome to the Web Page!\");\n    }, error => {\n      // If the login is unsuccessful, display an error message\n      console.log(error);\n    });\n    this.getUserInfo(this.userID).subscribe(user => {\n      console.log(user.userName);\n      console.log(user.passWord);\n      console.log(user.favAnimal);\n      console.log(user.firstName);\n      console.log(user.lastName);\n      console.log(user.email);\n    });\n  } //   ngOnInit(): void {\n  //   this.signupForm = this.formBuilder.group({\n  //     username:[''],\n  //     password:[''],\n  //     firstname:[''],\n  //     lastname:[''],\n  //     email:[''],\n  //     favoriteAnimal:['']\n  //   })\n  // }\n\n\n  ngOnInit() {\n    this.userID = this.userIDService.getUserId();\n    console.log('User ID ohmygoditworked: ', this.userID);\n    this.getUserInfo(this.userID).pipe(take(1) // take only the first value emitted by the observable\n    ).subscribe(user => {\n      this.username = '';\n      this.password = '';\n      this.favoriteAnimal = '';\n      this.firstname = '';\n      this.lastname = '';\n      this.email = '';\n    });\n  } // getUserInfo(ID: number): Observable<number> {\n  //   const url = 'http://127.0.0.1:8080/api/users/' + ID\n  //   return this.http.get<number>(url);\n  // }\n\n\n  getUserInfo(ID) {\n    const url = 'http://127.0.0.1:8080/api/users/' + ID;\n    return this.http.get(url, {\n      responseType: 'json'\n    });\n  }\n\n};\nUserComponent = __decorate([Component({\n  selector: 'user-cmp',\n  moduleId: module.id,\n  templateUrl: 'user.component.html'\n}), __metadata(\"design:paramtypes\", [FormBuilder, HttpClient, Router, UserIdService])], UserComponent);\nexport { UserComponent };","map":null,"metadata":{},"sourceType":"module"}