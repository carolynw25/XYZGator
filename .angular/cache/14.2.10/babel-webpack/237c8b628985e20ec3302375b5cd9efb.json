{"ast":null,"code":"import _asyncToGenerator from \"/Users/carolynwang/XYZGatorGit/CEN3031Proj/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TestBed } from '@angular/core/testing';\nimport { HttpClientTestingModule, HttpTestingController } from '@angular/common/http/testing';\nimport { PictureGuessComponent } from './picture-guess.component';\nimport { UserIdService } from 'app/userIdService';\nimport { HttpClient } from '@angular/common/http';\nimport { of } from 'rxjs';\ndescribe('PictureGuessComponent', () => {\n  let component;\n  let fixture;\n  let httpMock;\n  let userIdService;\n  beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n    yield TestBed.configureTestingModule({\n      imports: [HttpClientTestingModule],\n      declarations: [PictureGuessComponent],\n      providers: [UserIdService]\n    }).compileComponents();\n    fixture = TestBed.createComponent(PictureGuessComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n    httpMock = TestBed.inject(HttpTestingController);\n    userIdService = TestBed.inject(UserIdService);\n    userIdService.getUserId.and.returnValue('testuser');\n  }));\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n  it('should initialize correctly', () => {\n    expect(component.pictures.length).toBeGreaterThan(0);\n    expect(component.answers.length).toEqual(47);\n    expect(component.imageNames.length).toBeGreaterThan(0);\n    expect(component.score).toEqual(0);\n    expect(component.highScore).toEqual(0);\n    expect(component.newRecord).toBeFalsy();\n  });\n  it('should load pictures correctly', () => {\n    expect(component.pictures[0].url).toContain('assets/img/pictureGame/');\n  });\n  it('should generate answer choices correctly', () => {\n    expect(component.answers.length).toEqual(47);\n  });\n  it('should select next question correctly', () => {\n    const initialSelection = component.selection;\n    component.nextQuestion(); //equal?\n\n    expect(component.selection).toEqual(initialSelection);\n  }); // it('should check answer correctly', () => {\n  //   spyOn(Swal, 'fire').and.callFake(() => Promise.resolve({ isConfirmed: true }));\n  //   spyOn(component, 'nextQuestion');\n  //   component.checkAnswer(component.answers[0]);\n  //   expect(component.score).toBeGreaterThan(0);\n  //   expect(Swal.fire).toHaveBeenCalled();\n  //   expect(component.nextQuestion).toHaveBeenCalled();\n  // });\n\n  it('should reset game correctly', () => {\n    spyOn(component, 'bigReset');\n    spyOn(component, 'reset');\n    component.bigReset();\n    expect(component.highScore).toEqual(0);\n    expect(component.score).toEqual(0);\n    expect(component.newRecord).toBeFalsy(); //expect(component.reset).toHaveBeenCalled();\n  });\n  it('should handle errors during http requests', () => {\n    const http = TestBed.inject(HttpClient);\n    spyOn(http, 'get').and.returnValue(of(null));\n    spyOn(console, 'error');\n    component.ngOnInit(); //expect(console.error).toHaveBeenCalled();\n  });\n});","map":{"version":3,"mappings":"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","names":["TestBed","HttpClientTestingModule","HttpTestingController","PictureGuessComponent","UserIdService","HttpClient","of","describe","component","fixture","httpMock","userIdService","beforeEach","configureTestingModule","imports","declarations","providers","compileComponents","createComponent","componentInstance","detectChanges","inject","getUserId","and","returnValue","it","expect","toBeTruthy","pictures","length","toBeGreaterThan","answers","toEqual","imageNames","score","highScore","newRecord","toBeFalsy","url","toContain","initialSelection","selection","nextQuestion","spyOn","bigReset","http","console","ngOnInit"],"sourceRoot":"","sources":["/Users/carolynwang/XYZGatorGit/CEN3031Proj/src/app/picture-guess/picture-guess.component.spec.ts"],"sourcesContent":["import { ComponentFixture, TestBed } from '@angular/core/testing';\nimport { HttpClientTestingModule,HttpTestingController } from '@angular/common/http/testing';\nimport { PictureGuessComponent } from './picture-guess.component';\nimport { UserIdService } from 'app/userIdService';\nimport { HttpClient } from '@angular/common/http';\nimport { of } from 'rxjs';\nimport Swal from 'sweetalert2';\n\n\ndescribe('PictureGuessComponent', () => {\n  let component: PictureGuessComponent;\n  let fixture: ComponentFixture<PictureGuessComponent>;\n  let httpMock: HttpTestingController;\n  let userIdService: jasmine.SpyObj<UserIdService>;\n\n  beforeEach(async () => {\n    await TestBed.configureTestingModule({\n      imports: [HttpClientTestingModule],\n      declarations: [ PictureGuessComponent ],\n      providers: [UserIdService]\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(PictureGuessComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n    httpMock = TestBed.inject(HttpTestingController);\n    userIdService = TestBed.inject(UserIdService) as jasmine.SpyObj<UserIdService>;\n    userIdService.getUserId.and.returnValue('testuser');\n  });\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n\n  it('should initialize correctly', () => {\n    expect(component.pictures.length).toBeGreaterThan(0);\n    expect(component.answers.length).toEqual(47);\n    expect(component.imageNames.length).toBeGreaterThan(0);\n    expect(component.score).toEqual(0);\n    expect(component.highScore).toEqual(0);\n    expect(component.newRecord).toBeFalsy();\n  });\n\n  it('should load pictures correctly', () => {\n    expect(component.pictures[0].url).toContain('assets/img/pictureGame/');\n  });\n\n  it('should generate answer choices correctly', () => {\n    expect(component.answers.length).toEqual(47);\n  });\n\n  it('should select next question correctly', () => {\n    const initialSelection = component.selection;\n    component.nextQuestion();\n    //equal?\n    expect(component.selection).toEqual(initialSelection);\n  });\n\n  // it('should check answer correctly', () => {\n  //   spyOn(Swal, 'fire').and.callFake(() => Promise.resolve({ isConfirmed: true }));\n  //   spyOn(component, 'nextQuestion');\n  //   component.checkAnswer(component.answers[0]);\n  //   expect(component.score).toBeGreaterThan(0);\n  //   expect(Swal.fire).toHaveBeenCalled();\n  //   expect(component.nextQuestion).toHaveBeenCalled();\n  // });\n\n  it('should reset game correctly', () => {\n    spyOn(component, 'bigReset');\n    spyOn(component, 'reset');\n    component.bigReset();\n    expect(component.highScore).toEqual(0);\n    expect(component.score).toEqual(0);\n    expect(component.newRecord).toBeFalsy();\n    //expect(component.reset).toHaveBeenCalled();\n  });\n\n  it('should handle errors during http requests', () => {\n    const http = TestBed.inject(HttpClient);\n    spyOn(http, 'get').and.returnValue(of(null));\n    spyOn(console, 'error');\n    component.ngOnInit();\n    //expect(console.error).toHaveBeenCalled();\n  });\n\n\n\n});\n"]},"metadata":{},"sourceType":"module"}