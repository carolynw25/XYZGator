{"ast":null,"code":"import { take } from 'rxjs';\nexport class UserComponent {\n  constructor(formBuilder, //new code\n  http, router, userIDService) {\n    this.formBuilder = formBuilder;\n    this.http = http;\n    this.router = router;\n    this.userIDService = userIDService;\n    this.username = '';\n    this.password = '';\n    this.favoriteAnimal = '';\n    this.firstname = '';\n    this.lastname = '';\n    this.email = '';\n  }\n\n  addUserData() {\n    const body = {\n      username: this.username,\n      password: this.password,\n      firstname: this.firstname,\n      lastname: this.lastname,\n      email: this.email,\n      favoriteAnimal: this.favoriteAnimal\n    };\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    this.http.post('http://127.0.0.1:8080/api/signUp', body, {\n      headers\n    }).subscribe(response => {\n      // If the login is successful, redirect the user to the dashboard page\n      this.router.navigate(['/main']); //document.write(\"Welcome to the Web Page!\");\n    }, error => {\n      // If the login is unsuccessful, display an error message\n      console.log(error);\n    });\n  } //   ngOnInit(): void {\n  //   this.signupForm = this.formBuilder.group({\n  //     username:[''],\n  //     password:[''],\n  //     firstname:[''],\n  //     lastname:[''],\n  //     email:[''],\n  //     favoriteAnimal:['']\n  //   })\n  // }\n\n\n  ngOnInit() {\n    this.userID = this.userIDService.getUserId();\n    console.log('User ID ohmygoditworked: ', this.userID);\n    this.getUserInfo(this.userID).pipe(take(1) // take only the first value emitted by the observable\n    ).subscribe(user => {\n      this.username = '';\n      this.password = '';\n      this.favoriteAnimal = '';\n      this.firstname = '';\n      this.lastname = '';\n      this.email = '';\n    });\n  }\n\n  getUserInfo(ID) {\n    const url = 'http://127.0.0.1:8080/api/users/' + ID;\n    return this.http.get(url);\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}