{"ast":null,"code":"import _asyncToGenerator from \"/Users/dantasbradley/Documents/GitHub/CEN3031Proj/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TestBed } from '@angular/core/testing';\nimport { RouterTestingModule } from '@angular/router/testing';\nimport { HttpClientTestingModule } from '@angular/common/http/testing';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { ForgetPasswordComponent } from './forget-password.component';\ndescribe('ForgetPasswordComponent', () => {\n  let component;\n  let fixture;\n  beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n    yield TestBed.configureTestingModule({\n      declarations: [ForgetPasswordComponent],\n      imports: [RouterTestingModule, HttpClientTestingModule, ReactiveFormsModule]\n    }).compileComponents();\n  }));\n  beforeEach(() => {\n    fixture = TestBed.createComponent(ForgetPasswordComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n  it('should submit form with correct data', () => {\n    spyOn(component.router, 'navigate').and.callFake(() => true);\n    component.email = 'test@example.com';\n    component.securityQuestion = 'dog';\n    component.newPass = 'newpassword';\n    component.onSubmit();\n    expect(component.http.post).toHaveBeenCalledWith('http://127.0.0.1:8080/api/forgotPassword', {\n      email: 'test@example.com',\n      favoriteAnimal: 'dog',\n      password: 'newpassword'\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    expect(component.router.navigate).toHaveBeenCalledWith(['/login']);\n  });\n});","map":{"version":3,"mappings":";AAAA,SAA2BA,OAA3B,QAA0C,uBAA1C;AACA,SAASC,mBAAT,QAAoC,yBAApC;AACA,SAASC,uBAAT,QAAwC,8BAAxC;AACA,SAASC,mBAAT,QAAoC,gBAApC;AAEA,SAASC,uBAAT,QAAwC,6BAAxC;AAEAC,QAAQ,CAAC,yBAAD,EAA4B,MAAK;EACvC,IAAIC,SAAJ;EACA,IAAIC,OAAJ;EAEAC,UAAU,iCAAC,aAAW;IACpB,MAAMR,OAAO,CAACS,sBAAR,CAA+B;MACnCC,YAAY,EAAE,CAAEN,uBAAF,CADqB;MAEnCO,OAAO,EAAE,CACPV,mBADO,EAEPC,uBAFO,EAGPC,mBAHO;IAF0B,CAA/B,EAQLS,iBARK,EAAN;EASD,CAVS,EAAV;EAYAJ,UAAU,CAAC,MAAK;IACdD,OAAO,GAAGP,OAAO,CAACa,eAAR,CAAwBT,uBAAxB,CAAV;IACAE,SAAS,GAAGC,OAAO,CAACO,iBAApB;IACAP,OAAO,CAACQ,aAAR;EACD,CAJS,CAAV;EAMAC,EAAE,CAAC,eAAD,EAAkB,MAAK;IACvBC,MAAM,CAACX,SAAD,CAAN,CAAkBY,UAAlB;EACD,CAFC,CAAF;EAIAF,EAAE,CAAC,sCAAD,EAAyC,MAAK;IAC9CG,KAAK,CAACb,SAAS,CAACc,MAAX,EAAmB,UAAnB,CAAL,CAAoCC,GAApC,CAAwCC,QAAxC,CAAiD,MAAM,IAAvD;IAEAhB,SAAS,CAACiB,KAAV,GAAkB,kBAAlB;IACAjB,SAAS,CAACkB,gBAAV,GAA6B,KAA7B;IACAlB,SAAS,CAACmB,OAAV,GAAoB,aAApB;IAEAnB,SAAS,CAACoB,QAAV;IAEAT,MAAM,CAACX,SAAS,CAACqB,IAAV,CAAeC,IAAhB,CAAN,CAA4BC,oBAA5B,CACE,0CADF,EAEE;MACEN,KAAK,EAAE,kBADT;MAEEO,cAAc,EAAE,KAFlB;MAGEC,QAAQ,EAAE;IAHZ,CAFF,EAOE;MAAEC,OAAO,EAAE;QAAE,gBAAgB;MAAlB;IAAX,CAPF;IAUAf,MAAM,CAACX,SAAS,CAACc,MAAV,CAAiBa,QAAlB,CAAN,CAAkCJ,oBAAlC,CAAuD,CAAC,QAAD,CAAvD;EACD,CApBC,CAAF;AAqBD,CA/CO,CAAR","names":["TestBed","RouterTestingModule","HttpClientTestingModule","ReactiveFormsModule","ForgetPasswordComponent","describe","component","fixture","beforeEach","configureTestingModule","declarations","imports","compileComponents","createComponent","componentInstance","detectChanges","it","expect","toBeTruthy","spyOn","router","and","callFake","email","securityQuestion","newPass","onSubmit","http","post","toHaveBeenCalledWith","favoriteAnimal","password","headers","navigate"],"sourceRoot":"","sources":["/Users/dantasbradley/Documents/GitHub/CEN3031Proj/src/app/forget-password/forget-password.component.spec.ts"],"sourcesContent":["import { ComponentFixture, TestBed } from '@angular/core/testing';\nimport { RouterTestingModule } from '@angular/router/testing';\nimport { HttpClientTestingModule } from '@angular/common/http/testing';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { ForgetPasswordComponent } from './forget-password.component';\n\ndescribe('ForgetPasswordComponent', () => {\n  let component: ForgetPasswordComponent;\n  let fixture: ComponentFixture<ForgetPasswordComponent>;\n\n  beforeEach(async () => {\n    await TestBed.configureTestingModule({\n      declarations: [ ForgetPasswordComponent ],\n      imports: [\n        RouterTestingModule,\n        HttpClientTestingModule,\n        ReactiveFormsModule\n      ]\n    })\n    .compileComponents();\n  });\n\n  beforeEach(() => {\n    fixture = TestBed.createComponent(ForgetPasswordComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n\n  it('should submit form with correct data', () => {\n    spyOn(component.router, 'navigate').and.callFake(() => true);\n\n    component.email = 'test@example.com';\n    component.securityQuestion = 'dog';\n    component.newPass = 'newpassword';\n\n    component.onSubmit();\n\n    expect(component.http.post).toHaveBeenCalledWith(\n      'http://127.0.0.1:8080/api/forgotPassword',\n      {\n        email: 'test@example.com',\n        favoriteAnimal: 'dog',\n        password: 'newpassword'\n      },\n      { headers: { 'Content-Type': 'application/json' } }\n    );\n\n    expect(component.router.navigate).toHaveBeenCalledWith(['/login']);\n  });\n});\n"]},"metadata":{},"sourceType":"module"}